# 開発者向け仕様書 (System A: 今の気分に最適な曲を薦めるシステム)

このドキュメントは、「今の気分に最適な曲を薦めるシステム」の開発者向け仕様書である。

## 1. システム概要

ユーザーが入力した「**気分**」に基づいて、登録された楽曲情報の中から最適なものを一覧表示するWebアプリケーションである。

**REST APIの原則に基づき、統一されたリソース操作**（一覧、詳細、追加、削除、変更）を実装する。データは変数内に記録し、永続化は行わない。

## 2. データ構造

本システムで扱うリソースは「**気分と楽曲の組み合わせ**」とし、データはJSON形式の配列として変数内に記録する。

### 2.1. 楽曲データの構造

| キー名 | 型 | 説明 | 使用例（米津玄師さんの楽曲） |
| :--- | :--- | :--- | :--- |
| `id` | Number | 楽曲を一意に識別するためのID（主キー） | `5` |
| `mood` | String | 楽曲が推奨される「気分」を表す文字列。検索キーとして使用。 | `"切ない"` |
| `title` | String | 楽曲のタイトル（曲名）を格納する文字列。 | `"Lemon"` |
| `artist` | String | アーティスト名を格納する文字列。 | `"米津玄師"` |
| `link` | String | 楽曲が聞ける外部Webサイト（YouTubeなど）のURL。 | `"https://youtube.com/watch?v=..."` |

### 2.2. 初期データ例

```javascript
[
  {
    "id": 1,
    "mood": "高揚",
    "title": "KICK BACK",
    "artist": "米津玄師",
    "link": "..."
  },
  {
    "id": 2,
    "mood": "切ない",
    "title": "Lemon",
    "artist": "米津玄師",
    "link": "..."
  },
  {
    "id": 3,
    "mood": "ノスタルジー",
    "title": "灰色と青",
    "artist": "米津玄師",
    "link": "..."
  }
]## 3. APIエンドポイント定義

クライアントサイド（ブラウザ）からアクセスする際のHTTPメソッドとURLの対応は以下の通りとする。
リソース名は `/songs` とする。

| メソッド | URL | 説明 | 備考 |
| :--- | :--- | :--- | :--- |
| `GET` | `/songs` | 楽曲リストの取得 | クエリパラメータ `?mood=xxx` で気分の絞り込みを可能にする |
| `GET` | `/songs/:id` | 楽曲詳細の取得 | 指定したIDの楽曲情報を1件返す |
| `POST` | `/songs` | 楽曲の新規登録 | 本文(Body)にJSONを含めて送信する |
| `PUT` | `/songs/:id` | 楽曲情報の更新 | 指定したIDの情報を上書きする |
| `DELETE` | `/songs/:id` | 楽曲の削除 | 指定したIDの楽曲を削除する |